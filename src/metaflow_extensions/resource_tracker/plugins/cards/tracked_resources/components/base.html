<html>
<head>
    <script type="text/javascript">{{{dygraphs_js}}}</script>
    <script type="text/javascript">{{{dygraphs_crosshair_js}}}</script>
    <script type="text/javascript">{{{dygraphs_synchronizer_js}}}</script>
    <style type="text/css">{{{dygraphs_css}}}</style>
    <script type="text/javascript">{{{helpers_js}}}</script>
    <style type="text/css">{{{custom_css}}}</style>
</head>
<body>
    <div id="cpu" class="section">
        <h1>
            <div class="header-icon">
                {{{icon_cpu}}}
            </div>
            <div class="header-text">
                <div class="title">CPU Usage</div>
                <p class="description">Measured by user and system CPU time (in jiffies), normalized to CPU count by dividing by the total time and ticks per second. Task CPU usage includes all children processes.</p>
            </div>
            <div id="labels_cpu" class="labels"></div>
        </h1>
        <div id="plot_cpu" class="plot"></div>
    </div>
    <div id="mem" class="section">
        <h1 class="section-header">
            <div class="header-icon">
                {{{icon_memory}}}
            </div>
            <div class="header-text">
                <div class="title">Memory Usage</div>
                <p class="description">Task memory usage measured by summing up all Proportional Set Size (PSS) rollups of all subprocesses.</p>
            </div>
            <div id="labels_mem" class="labels"></div>
        </h1>
        <div id="plot_mem" class="plot"></div>
    </div>
    <script type="text/javascript">
        Dygraph.onDOMready(function onDOMready() {
            var cpuGraph = createGraph("plot_cpu", `{{{csv_cpu}}}`, 'labels_cpu'),
                memGraph = createGraph("plot_mem", `{{{csv_mem}}}`, 'labels_mem');
            var sync = Dygraph.synchronize([cpuGraph, memGraph], {zoom: true, selection: true, range: false});
        });
    </script>
</body>
</html>